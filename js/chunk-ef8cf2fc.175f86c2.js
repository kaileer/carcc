(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef8cf2fc"],{2621:function(e,t){t.f=Object.getOwnPropertySymbols},"5cd2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[r("el-collapse",{on:{change:function(e){}},model:{value:e.collapseActive,callback:function(t){e.collapseActive=t},expression:"collapseActive"}},[r("el-collapse-item",{attrs:{title:"　基本信息",name:"1"}},[r("el-form-item",{attrs:{label:"公司名称",prop:"company_name"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),r("el-form-item",{attrs:{label:"是否有反担保资质",prop:""}},[r("el-radio-group",{attrs:{disabled:e.isDisabled()},model:{value:e.form.is_assure,callback:function(t){e.$set(e.form,"is_assure",t)},expression:"form.is_assure"}},[r("el-radio",{attrs:{label:"1"}},[e._v("是")]),r("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"联系人",prop:"contact"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1),r("el-form-item",{attrs:{label:"移动电话",prop:"mobile"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{label:"固定电话"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.fixed_telephone,callback:function(t){e.$set(e.form,"fixed_telephone",t)},expression:"form.fixed_telephone"}})],1),r("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("el-form-item",{attrs:{label:"紧急联系人",prop:"emer_contact"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.emer_contact,callback:function(t){e.$set(e.form,"emer_contact",t)},expression:"form.emer_contact"}})],1),r("el-form-item",{attrs:{label:"紧急移动电话",prop:"emer_mobile"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.emer_mobile,callback:function(t){e.$set(e.form,"emer_mobile",t)},expression:"form.emer_mobile"}})],1),r("el-form-item",{attrs:{label:"紧急联系人地址",prop:"emer_address"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.emer_address,callback:function(t){e.$set(e.form,"emer_address",t)},expression:"form.emer_address"}})],1),r("el-form-item",{attrs:{label:"公司法人",prop:"corporate"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.corporate,callback:function(t){e.$set(e.form,"corporate",t)},expression:"form.corporate"}})],1),r("el-form-item",{attrs:{label:"公司实际控制人"}},[r("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.actual_controller,callback:function(t){e.$set(e.form,"actual_controller",t)},expression:"form.actual_controller"}})],1)],1),"edit"!=e.pageType?r("el-collapse-item",{attrs:{title:"　认证信息",name:"2"}},[r("el-form-item",{attrs:{label:"营业执照照片",prop:"url"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.isDisabled(),data:{type:5},action:e.IMG_UPLOAD_URL,"show-file-list":!1,"on-success":e.handleUploadSuccess,"before-upload":e.handleBeforeUpload}},[e.form.url?r("img",{staticClass:"avatar",attrs:{src:e.form.url}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"统一社会信用代码",prop:"credit_code"}},[r("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingCreditCode,expression:"loadingCreditCode"}],attrs:{disabled:e.isDisabled()},on:{blur:e.handleVerifyCode},model:{value:e.form.credit_code,callback:function(t){e.$set(e.form,"credit_code",t)},expression:"form.credit_code"}})],1)],1):e._e(),"view"==e.pageType?r("el-collapse-item",{attrs:{title:"　名下车辆列表（公司体系下所有车辆）",name:"3"}},[r("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.form.car_info,border:""}},[r("el-table-column",{attrs:{prop:"plate_number",label:"车牌号",width:"150"}}),r("el-table-column",{attrs:{prop:"vin_number",label:"vin",width:"120"}}),r("el-table-column",{attrs:{prop:"car_info",label:"车辆信息"}}),r("el-table-column",{attrs:{prop:"band_name",label:"购车公司"}}),r("el-table-column",{attrs:{prop:"bus_mech_name",label:"挂靠公司"}}),r("el-table-column",{attrs:{prop:"create_time",label:"加入时间"}})],1)],1):e._e(),"view"==e.pageType?r("el-collapse-item",{attrs:{title:"　征信信息",name:"4"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"历史贷款"}},[e._v("\n                            "+e._s(e.form.credit_info.history_num)+"\n                        ")])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"贷款总额"}},[e._v("\n                            "+e._s(e.form.credit_info.total_loan_amount)+"\n                        ")])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"贷款人数"}},[e._v("\n                            "+e._s(e.form.credit_info.overdue_number)+"\n                        ")])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否黑名单"}},[e._v("\n                            "+e._s(3==e.form.credit_info.status?"是":"否")+"\n                        ")])],1)],1)],1):e._e(),"view"==e.pageType?r("el-collapse-item",{attrs:{title:"　信贷信息",name:"5"}},[r("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.form.loan_info,border:""}},[r("el-table-column",{attrs:{prop:"contract_num",label:"合同号",width:"150"}}),r("el-table-column",{attrs:{prop:"total_loan_amount",label:"贷款金额",width:"120"}}),r("el-table-column",{attrs:{label:"贷款性质"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n                            "+e._s(1==r.credit_type?"助贷":"自贷")+"\n                        ")]}}])}),r("el-table-column",{attrs:{prop:"already_pay_count",label:"账期信息"}}),r("el-table-column",{attrs:{label:"是否结清"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n                            "+e._s(2==r.is_give?"是":"否")+"\n                        ")]}}])}),r("el-table-column",{attrs:{prop:"plate_number",label:"车牌号"}}),r("el-table-column",{attrs:{label:"是否挂靠"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v("\n                            "+e._s(1==r.cp_affiliat_name?"是":"否")+"\n                        ")]}}])}),r("el-table-column",{attrs:{prop:"user_id",label:"创建人员"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}})],1)],1):e._e()],1),r("el-form-item",{staticClass:"form-submit"},["view"!=e.pageType?r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]):e._e(),r("el-button",{on:{click:function(t){e.$router.back()}}},[e._v("返回")])],1)],1)],1)},o=[],l=(r("f751"),r("a322")),n=(r("cadf"),r("551c"),r("097d"),r("9d0a")),i=r("da71"),s={data:function(){var e,t=this,r=function(e,r,a){if(!r)return a(new Error("请输入统一社会信用代码"));t.loadingCreditCode=!0,n["i"]({credit_code:t.form.credit_code}).then(function(e){e.data?a():a(new Error("已经有了")),t.loadingCreditCode=!1})};return{IMG_UPLOAD_URL:"".concat(i["a"],"/home/UpLoadFile/uploadImg"),collapseActive:["1"],collapseAuditActive:["1"],loadingCreditCode:!1,pageType:"add",form:{actual_controller:"",address:"",car_info:[],company_name:"",contact:"",corporate:"",credit_code:"",credit_info:{},emer_address:"",emer_contact:"",emer_mobile:"",fixed_telephone:"",is_assure:"2",loan_info:[],mobile:"",url:""},rules:(e={company_name:[{required:!0,message:"请输入",trigger:"blur"}],actual_controller:[{required:!0,message:"请输入",trigger:"blur"}],address:[{required:!0,message:"请输入",trigger:"blur"}],car_info:[{required:!0,message:"请输入",trigger:"blur"}]},Object(l["a"])(e,"company_name",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"contact",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"corporate",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"credit_code",[{required:!0,validator:r,trigger:"blur"}]),Object(l["a"])(e,"credit_info",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"emer_address",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"emer_contact",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"emer_mobile",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"fixed_telephone",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"is_assure",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"loan_info",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"mobile",[{required:!0,message:"请输入",trigger:"blur"}]),Object(l["a"])(e,"url",[{required:!0,message:"请上传图片",trigger:"blur"}]),e)}},mounted:function(){this.checkPath()},methods:{isDisabled:function(){var e="view"==this.pageType;return e},checkPath:function(){var e=this.$route.path;this.$route.query;e.indexOf("add")>-1?this.pageType="add":e.indexOf("edit")>-1?(this.getFormData(),this.pageType="edit"):e.indexOf("view")>-1&&(this.getFormData(),this.pageType="view")},getFormData:function(){var e=this;n["j"]({id:this.$route.query.id,operation_uniqid:this.$route.query.operation_uniqid}).then(function(t){Object.assign(e.form,t.data)})},handleUploadSuccess:function(e,t,r){this.form.url=e.data.url,this.form.credit_code=e.data.register_number},handleBeforeUpload:function(){},handleVerifyCode:function(){},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;"add"==e.pageType?n["f"](e.form).then(function(t){e.$message.success("提交成功！"),e.$router.back()}):n["g"](e.form).then(function(t){e.$message.success("提交成功！"),e.$router.back()})})}}},c=s,u=(r("6f43"),r("2877")),d=Object(u["a"])(c,a,o,!1,null,"2b681ce5",null);d.options.__file="edit.vue";t["default"]=d.exports},"6d28":function(e,t,r){},"6f43":function(e,t,r){"use strict";var a=r("6d28"),o=r.n(a);o.a},7333:function(e,t,r){"use strict";var a=r("0d58"),o=r("2621"),l=r("52a7"),n=r("4bf8"),i=r("626a"),s=Object.assign;e.exports=!s||r("79e5")(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=a})?function(e,t){var r=n(e),s=arguments.length,c=1,u=o.f,d=l.f;while(s>c){var m,f=i(arguments[c++]),p=u?a(f).concat(u(f)):a(f),b=p.length,_=0;while(b>_)d.call(f,m=p[_++])&&(r[m]=f[m])}return r}:s},"9d0a":function(e,t,r){"use strict";r.d(t,"h",function(){return o}),r.d(t,"f",function(){return l}),r.d(t,"j",function(){return n}),r.d(t,"g",function(){return i}),r.d(t,"i",function(){return s}),r.d(t,"q",function(){return c}),r.d(t,"l",function(){return u}),r.d(t,"n",function(){return d}),r.d(t,"s",function(){return m}),r.d(t,"p",function(){return f}),r.d(t,"o",function(){return p}),r.d(t,"r",function(){return b}),r.d(t,"m",function(){return _}),r.d(t,"d",function(){return g}),r.d(t,"a",function(){return h}),r.d(t,"c",function(){return v}),r.d(t,"b",function(){return O}),r.d(t,"e",function(){return j}),r.d(t,"t",function(){return w}),r.d(t,"u",function(){return y}),r.d(t,"k",function(){return C});r("cadf"),r("551c"),r("097d");var a=r("0c6d"),o=function(e){return Object(a["a"])({url:"/asset/PartnerShipFile/list",method:"post",data:e})},l=function(e){return Object(a["a"])({url:"/asset/PartnerShipFile/create",method:"post",data:e})},n=function(e){return Object(a["a"])({url:"/asset/PartnerShipFile/view",method:"post",data:e})},i=function(e){return Object(a["a"])({url:"/asset/PartnerShipFile/update",method:"post",data:e})},s=function(e){return Object(a["a"])({url:"/asset/PartnerShipFile/codeRepite",method:"post",data:e})},c=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/list",method:"post",data:e})},u=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/create",method:"post",data:e})},d=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/update",method:"post",data:e})},m=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/view",method:"post",data:e})},f=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/codeRepite",method:"post",data:e})},p=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/assureCompany",method:"post",data:e})},b=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/assurePersonal",method:"post",data:e})},_=function(e){return Object(a["a"])({url:"/asset/PersonalOwner/driveType",method:"post",data:e})},g=function(e){return Object(a["a"])({url:"/asset/CarFile/list",method:"post",data:e})},h=function(e){return Object(a["a"])({url:"/asset/CarFile/create",method:"post",data:e})},v=function(e){return Object(a["a"])({url:"/asset/CarFile/update",method:"post",data:e})},O=function(e){return Object(a["a"])({url:"/asset/CarFile/delete",method:"post",data:e})},j=function(e){return Object(a["a"])({url:"/asset/CarFile/view",method:"post",data:e})},w=function(e){return Object(a["a"])({url:"/asset/CarFile/callCompany",method:"post",data:e})},y=function(e){return Object(a["a"])({url:"/asset/CarFile/bandCarOwmer",method:"post",data:e})},C=function(e){return Object(a["a"])({url:"/asset/CarFile/insuranceCompany",method:"post",data:e})}},f751:function(e,t,r){var a=r("5ca1");a(a.S+a.F,"Object",{assign:r("7333")})}}]);
//# sourceMappingURL=chunk-ef8cf2fc.175f86c2.js.map