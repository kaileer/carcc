webpackJsonp([4],{"2sSB":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("el-form",{ref:"form1",staticClass:"toolbar",attrs:{inline:!0,"label-position":"right","label-width":"100px",model:e.queryStr}},[n("el-row",{attrs:{gutter:24}},[n("el-form-item",{staticClass:"ml15",attrs:{label:"公司名称",prop:"company_name"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.queryStr.relation_company_name,callback:function(t){e.$set(e.queryStr,"relation_company_name","string"==typeof t?t.trim():t)},expression:"queryStr.relation_company_name"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.query(1)}}},[e._v("查询")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handle_admin}},[e._v("新建")])],1)],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){e.edit_query(t.row,t.$index)}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){e.del_query(t.row,t.$index)}}},[e._v("删除")])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"用户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.user_name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"密码",type:"password"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v("******")])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"联系电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.telphone))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"绑定公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.relation_company_name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("time")(t.row.create_time)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(1==t.row.status?"启用":"停用"))])]}}])})],1),e._v(" "),n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next, jumper","page-size":10,total:e.queryStr.total},on:{"current-change":e.currentChange}})],1),e._v(" "),n("el-dialog",{attrs:{title:e.title1,visible:e.dialogFormOneVisible},on:{"update:visible":function(t){e.dialogFormOneVisible=t}}},[n("el-form",{ref:"form1",attrs:{"label-width":"120px","label-position":"left",model:e.form_one_data,rules:e.rules1}},[n("el-form-item",{staticClass:"ml15",attrs:{label:"用户名称",prop:"user_name"}},[n("el-col",{attrs:{span:12}},[n("el-input",{model:{value:e.form_one_data.user_name,callback:function(t){e.$set(e.form_one_data,"user_name",t)},expression:"form_one_data.user_name"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"ml15",attrs:{label:"密码",prop:"passwd"}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{type:"password"},model:{value:e.form_one_data.passwd,callback:function(t){e.$set(e.form_one_data,"passwd",t)},expression:"form_one_data.passwd"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"ml15",attrs:{label:"重复密码",prop:"repasswd"}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{type:"password"},model:{value:e.form_one_data.repasswd,callback:function(t){e.$set(e.form_one_data,"repasswd",t)},expression:"form_one_data.repasswd"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"ml15",attrs:{label:"联系电话",prop:"telphone"}},[n("el-col",{attrs:{span:12}},[n("el-input",{model:{value:e.form_one_data.telphone,callback:function(t){e.$set(e.form_one_data,"telphone",t)},expression:"form_one_data.telphone"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"ml15",attrs:{label:"绑定公司",prop:"relation_company_id"}},[n("el-col",{attrs:{span:12}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form_one_data.relation_company_id,callback:function(t){e.$set(e.form_one_data,"relation_company_id",t)},expression:"form_one_data.relation_company_id"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.company_name,value:e.id}})}))],1)],1),e._v(" "),n("el-form-item",{staticClass:"ml15",attrs:{label:"状态",prop:"bus_type"}},[n("el-col",{attrs:{span:12}},[n("el-radio",{attrs:{label:"1"},model:{value:e.form_one_data.status,callback:function(t){e.$set(e.form_one_data,"status",t)},expression:"form_one_data.status"}},[e._v("启用")]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.form_one_data.status,callback:function(t){e.$set(e.form_one_data,"status",t)},expression:"form_one_data.status"}},[e._v("停用")])],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormOneVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.add_admin}},[e._v("确 定")])],1)],1)],1)},r=[],o={render:a,staticRenderFns:r};t.a=o},"3a+u":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=/^1[34578]\d{9}$/,r=(new RegExp("[`~@#$%&*\\[\\]<>？！￥（）{}]"),function(e,t,n){if(!t)return n(new Error("手机号不能为空"));setTimeout(function(){if(!a.test(t))return n(new Error("手机号格式不正确"));n()},1e3)})},"7uLT":function(e,t,n){"use strict";var a={dev:{host:"",api:"http://m.com"}},r=void 0,o=window.location.host;for(var i in a)o===a[i].host&&(r=a[i].api);r||(r=a.dev.api)},"83Nf":function(e,t,n){var a=n("gJGt");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("4341761c",a,!0,{})},JGAC:function(e,t,n){var a=n("mYzI");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("217f85cc",a,!0,{})},P9l9:function(e,t,n){"use strict";n.d(t,"B",function(){return i}),n.d(t,"A",function(){return s}),n.d(t,"z",function(){return u}),n.d(t,"v",function(){return l}),n.d(t,"w",function(){return c}),n.d(t,"x",function(){return d}),n.d(t,"y",function(){return p}),n.d(t,"q",function(){return m}),n.d(t,"s",function(){return f}),n.d(t,"r",function(){return _}),n.d(t,"t",function(){return g}),n.d(t,"u",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"p",function(){return v}),n.d(t,"k",function(){return h}),n.d(t,"n",function(){return w}),n.d(t,"o",function(){return A}),n.d(t,"j",function(){return C}),n.d(t,"m",function(){return x}),n.d(t,"f",function(){return D}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return M}),n.d(t,"g",function(){return B}),n.d(t,"a",function(){return q}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return $});var a=n("mtWM"),r=n.n(a),o=(n("7uLT"),"http://mgapi.cnxin56.com"),i=function(e){return r.a.post(o+"/Site/doLogin",e).then(function(e){return e.data})},s=function(e){return r.a.post(o+"/Site/loginOut",e).then(function(e){return e.data})},u=function(e){return r.a.post(o+"/Site/pwdModify",e)},l=function(e){return r.a.post(o+"/busResource/BusTypeManage/busList",e)},c=function(e){return r.a.post(o+"/busResource/BusTypeManage/addBus",e)},d=function(e){return r.a.post(o+"/busResource/BusTypeManage/delBus",e)},p=function(e){return r.a.post(o+"/busResource/BusTypeManage/detailBus",e)},m=function(e){return r.a.post(o+"/busResource/BusTypeManage/knowledgeLibrary",e)},f=function(e){return r.a.post(o+"/busResource/BusTypeManage/dictsData",e)},_=function(e){return r.a.post(o+"/busResource/BusTypeManage/addKnowledge",e)},g=function(e){return r.a.post(o+"/busResource/BusTypeManage/detailDictsData",e)},y=function(e){return r.a.post(o+"/busResource/BusTypeManage/deldictsData",e)},b=function(e){return r.a.post(o+"/customer/CompanyManage/companyList",e)},v=function(e){return r.a.post(o+"/customer/CompanyManage/detailCompany",e)},h=function(e){return r.a.post(o+"/customer/CompanyManage/addCompanyAdmin",e)},w=function(e){return r.a.post(o+"/customer/CompanyManage/companyAdminDetail",e)},A=function(e){return r.a.post(o+"/customer/CompanyManage/addCompany",e)},C=function(e){return r.a.post(o+"/customer/CompanyManage/adminList",e)},x=function(e){return r.a.post(o+"/customer/CompanyManage/delAdmin",e)},D=function(e){return r.a.post(o+"/customer/PageManage/pageRouteList",e)},k=function(e){return r.a.post(o+"/customer/PageManage/routeDel",e)},M=function(e){return r.a.post(o+"/customer/PageManage/routeDetail",e)},B=function(e){return r.a.post(o+"/customer/PageManage/addRoutes",e)},q=function(e){return r.a.post(o+"/customer/PageManage/workRoleList",e)},S=function(e){return r.a.post(o+"/customer/PageManage/workRoleDel",e)},R=function(e){return r.a.post(o+"/customer/PageManage/routeTree",e)},T=function(e){return r.a.post(o+"/customer/PageManage/addWorkRole",e)},$=function(e){return r.a.post(o+"/customer/PageManage/workRoleDetail",e)}},RcU5:function(e,t,n){"use strict";function a(e){n("JGAC"),n("83Nf")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("uoyN"),o=n("2sSB"),i=n("VU/8"),s=a,u=i(r.a,o.a,!1,s,"data-v-1aa01dd5",null);t.default=u.exports},gJGt:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".select .el-input__inner{width:203px}","",{version:3,sources:["/Users/lvhaiqiang/Documents/phpProject/zhonghuan/logistics_manage_front/src/views/company/companyAdmin.vue"],names:[],mappings:"AACA,yBACI,WAAY,CACf",file:"companyAdmin.vue",sourcesContent:["\n.select  .el-input__inner{\n    width:203px;\n}\n"],sourceRoot:""}])},mYzI:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".el-radio-group[data-v-1aa01dd5]{display:-webkit-flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.el-radio-group label[data-v-1aa01dd5]{-ms-flex-preferred-size:25%;flex-basis:25%;margin-left:0;line-height:30px}","",{version:3,sources:["/Users/lvhaiqiang/Documents/phpProject/zhonghuan/logistics_manage_front/src/views/company/companyAdmin.vue"],names:[],mappings:"AACA,iCACE,qBAAsB,AACtB,mBAAoB,AAChB,cAAgB,CACrB,AACD,uCACI,4BAA6B,AACzB,eAAgB,AACpB,cAAe,AACf,gBAAkB,CACrB",file:"companyAdmin.vue",sourcesContent:["\n.el-radio-group[data-v-1aa01dd5] {\n  display: -webkit-flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.el-radio-group label[data-v-1aa01dd5] {\n    -ms-flex-preferred-size: 25%;\n        flex-basis: 25%;\n    margin-left: 0;\n    line-height: 30px;\n}\n"],sourceRoot:""}])},uoyN:function(e,t,n){"use strict";var a=n("P9l9"),r=n("3a+u");t.a={data:function(){return{title1:"新建管理员",queryStr:{relation_company_name:"",total:1,page:1,size:10},form_one_data:{relation_company_name:"",relation_company_id:"",user_name:"",passwd:"",repasswd:"",telphone:"",status:"1"},rules1:{user_name:[{required:!0,message:"请输入管理员名",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"}],repasswd:[{required:!0,message:"请输入确认密码",trigger:"blur"}],telphone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:r.a,trigger:"blur"}],relation_company_id:[{required:!0,message:"请绑定公司",trigger:"blur"}]},options:[],dialogFormOneVisible:!1,dialogTableVisible:!1,tableData:[],tableTwoData:[{id:1,actionTime:"张三",username:"18600877033",actionType:0,remark:1}],loading:!1,centerDialogVisible:!1}},mounted:function(){this.query()},methods:{query:function(e){var t=this,r={page:this.queryStr.page,limit:this.queryStr.limit,relation_company_name:this.queryStr.relation_company_name};n.i(a.j)(r).then(function(e){t.queryStr.total=Number(e.data.data.total),t.tableData=e.data.data.data})},add_query:function(e,t){this.form_one_data.relation_company_id=e.id,this.form_one_data.relation_company_name=e.company_name,this.dialogFormOneVisible=!0},add_admin:function(){var e=this;this.$refs.form1.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.dialogFormOneVisible=!1;var r=e.form_one_data;n.i(a.k)(r).then(function(t){e.dialogFormOneVisible=!1,e.$message.success("保存成功"),e.title1="新建管理员",e.query()})})},handle_admin:function(){var e=this;this.title1="新建管理员",this.form_one_data={},this.form_one_data.status="1",n.i(a.l)({}).then(function(t){e.options=t.data.data.data}),this.dialogFormOneVisible=!0},del_query:function(e,t){var r=this,o=e.id,i={id:o};n.i(a.m)(i).then(function(e){r.$message.success("【删除】操作成功!"),r.query()})},currentChange:function(e){this.queryStr.page=e,this.query()},edit_query:function(e,t){var r=this;this.title1="修改管理员";var o=e.id,i={id:o};n.i(a.l)({}).then(function(e){r.options=e.data.data.data}),n.i(a.n)(i).then(function(e){r.form_one_data=e.data.data,r.dialogFormOneVisible=!0})},changeTime:function(e){return new Date(e).getFullYear()+"-"+(new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1)+"-"+(new Date(e).getDate()<10?"0"+new Date(e).getDate():new Date(e).getDate())+" "+(new Date(e).getHours()<10?"0"+new Date(e).getHours():new Date(e).getHours())+":"+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+":"+(new Date(e).getSeconds()<10?"0"+new Date(e).getSeconds():new Date(e).getSeconds())}}}}});
//# sourceMappingURL=4.033b58c3b5db732e5d6b.js.map