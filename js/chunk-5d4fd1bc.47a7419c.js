(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d4fd1bc"],{2621:function(e,t){t.f=Object.getOwnPropertySymbols},7333:function(e,t,s){"use strict";var o=s("0d58"),i=s("2621"),a=s("52a7"),r=s("4bf8"),n=s("626a"),l=Object.assign;e.exports=!l||s("79e5")(function(){var e={},t={},s=Symbol(),o="abcdefghijklmnopqrst";return e[s]=7,o.split("").forEach(function(e){t[e]=e}),7!=l({},e)[s]||Object.keys(l({},t)).join("")!=o})?function(e,t){var s=r(e),l=arguments.length,c=1,u=i.f,d=a.f;while(l>c){var f,m=n(arguments[c++]),_=u?o(m).concat(u(m)):o(m),p=_.length,b=0;while(p>b)d.call(m,f=_[b++])&&(s[f]=m[f])}return s}:l},"734c":function(e,t,s){},"9f3f":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"110px"}},[s("el-row",{staticClass:"toolbar bgc-fff"},[s("el-col",{attrs:{span:12}},[s("h2",{staticClass:"fs-18"},[e._v("当前订单状态："),s("span",{staticClass:"color-red"},[e._v("待提交")])]),s("p",{staticClass:"fs-14"},[e._v("当前处理人：admin")])])],1),s("el-collapse",{on:{change:function(e){}},model:{value:e.collapseActive,callback:function(t){e.collapseActive=t},expression:"collapseActive"}},[s("el-collapse-item",{attrs:{title:"　基本信息",name:"1"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"车牌号"}},[s("el-button",{attrs:{disabled:e.isDsiabledBase()},on:{click:e.chooseCar}},[e._v(e._s(e.form.base_info.plate_number))])],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"车主姓名"}},[e._v("\n                            "+e._s(e.form.base_info.band_name)+"\n                        ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"vin号"}},[e._v("\n                            "+e._s(e.form.base_info.vin_number)+"\n                        ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"移动电话"}},[e._v("\n                            "+e._s(e.form.base_info.mobile)+"\n                        ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"车辆品牌"}},[e._v("\n                            "+e._s(e.form.base_info.car_brand)+"\n                        ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"身份证号"}},[e._v("\n                            "+e._s(e.form.base_info.id_card)+"\n                        ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"公告型号"}},[e._v("\n                            "+e._s(e.form.base_info.foreign_model)+"\n                        ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"挂靠公司"}},[e._v("\n                            "+e._s(e.form.base_info.bus_mech_name)+"\n                        ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"马力"}},[e._v("\n                            "+e._s(e.form.base_info.horse_power)+"\n                        ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"驱动形式"}},[e._v("\n                            "+e._s(e.form.base_info.drive_form)+"\n                        ")])],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"颜色"}},[e._v("\n                            "+e._s(e.form.base_info.color)+"\n                        ")])],1)],1)],1),s("el-collapse-item",{attrs:{title:"　备注信息",name:"2"}},[s("el-form-item",{attrs:{label:"车辆现状资料"}},[s("el-upload",{attrs:{disabled:e.isDsiabledBase(),action:e.IMG_UPLOAD_URL,"on-success":e.handleUploadSuccess_bus_status,"file-list":e.form.bus_status,"list-type":"picture-card"}},[s("i",{staticClass:"el-icon-plus"})])],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{type:"textarea",disabled:e.isDsiabledBase()},model:{value:e.form.bus_remark,callback:function(t){e.$set(e.form,"bus_remark",t)},expression:"form.bus_remark"}})],1),e.isShowFirstAudit()?s("el-form-item",{staticClass:"mt15",attrs:{label:"选择审核人"}},[s("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.cp_id,callback:function(t){e.$set(e.form,"cp_id",t)},expression:"form.cp_id"}},e._l(e.optionsCompany,function(e){return s("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),s("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.after_user_id,callback:function(t){e.$set(e.form,"after_user_id",t)},expression:"form.after_user_id"}},e._l(e.optionsExecUser,function(e){return s("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()],1),e.isShowAudit()?s("el-collapse-item",{attrs:{title:"　审核信息",name:"3"}},[e._l(e.form.audit_info.pay,function(t,o){return s("el-card",{key:o,staticClass:"box-card mb15"},[s("div",[s("span",{staticClass:"display-ib ta-r w70"},[e._v("订单流程：")]),e._v(e._s(t.node_name))]),s("div",[s("span",{staticClass:"display-ib ta-r w70"},[e._v("审核意见：")]),e._v(e._s(1==t.exec_op_type?"通过":"驳回"))]),s("div",[s("span",{staticClass:"display-ib ta-r w70"},[e._v("备注：")]),e._v(e._s(t.exec_content))]),s("div",[s("span",{staticClass:"display-ib ta-r w70"},[e._v("审核人ID：")]),e._v(e._s(t.exec_user_name))]),s("div",[s("span",{staticClass:"display-ib ta-r w70"},[e._v("审核时间：")]),e._v(e._s(t.create_time))])])}),e.isShowOpinion()?[s("el-form-item",{staticClass:"mt15",attrs:{label:"审核意见"}},[s("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择"},model:{value:e.form.opinion,callback:function(t){e.$set(e.form,"opinion",t)},expression:"form.opinion"}},[s("el-option",{attrs:{label:"通过",value:"1"}}),s("el-option",{attrs:{label:"驳回",value:"2"}})],1)],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),1==e.form.opinion?s("el-form-item",{staticClass:"mt15",attrs:{label:"选择审核人"}},[s("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.cp_id,callback:function(t){e.$set(e.form,"cp_id",t)},expression:"form.cp_id"}},e._l(e.optionsCompany,function(e){return s("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),s("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.after_user_id,callback:function(t){e.$set(e.form,"after_user_id",t)},expression:"form.after_user_id"}},e._l(e.optionsExecUser,function(e){return s("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()]:e._e(),e.isShowLastAudit()?s("el-form-item",{staticClass:"mt15",attrs:{label:"选择审核人"}},[s("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.cp_id,callback:function(t){e.$set(e.form,"cp_id",t)},expression:"form.cp_id"}},e._l(e.optionsCompany,function(e){return s("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),s("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.after_user_id,callback:function(t){e.$set(e.form,"after_user_id",t)},expression:"form.after_user_id"}},e._l(e.optionsExecUser,function(e){return s("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()],2):e._e()],1),s("el-form-item",{staticClass:"form-submit"},["view"!=e.pageType?s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit(1)}}},[e._v("提 交")]):e._e(),e.isShowSave()?s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit(2)}}},[e._v("保 存")]):e._e(),s("el-button",{on:{click:function(t){e.$router.back()}}},[e._v("返 回")])],1)],1),s("el-dialog",{attrs:{title:"关闭",visible:e.dialogClose,width:"50%"},on:{"update:visible":function(t){e.dialogClose=t}}},[s("el-form",{attrs:{inline:!0,model:e.filtersClose}},[s("el-tag",{attrs:{type:"danger"}},[e._v("确认关闭该工单吗？如确认关闭请填写备注信息。")]),s("el-form-item",{attrs:{label:"事故备注"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.filtersClose.msg,callback:function(t){e.$set(e.filtersClose,"msg",t)},expression:"filtersClose.msg"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogClose=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"选择车辆",visible:e.dialogSelectCarType,width:"50%"},on:{"update:visible":function(t){e.dialogSelectCarType=t}}},[e.hackReset?s("selectCar",{attrs:{selectCarOptions:e.selectCarOptions},on:{emitCarSubmit:e.emitCarSubmit,emitCarClose:e.emitCarClose}}):e._e()],1)],1)},i=[],a=(s("f751"),s("cadf"),s("551c"),s("097d"),s("b1b2")),r=s("e93f"),n=s("da71"),l=s("f46c"),c={data:function(){return{IMG_UPLOAD_URL:"".concat(n["a"],"/home/UpLoadFile/uploadImg"),collapseActive:["1"],collapseAuditActive:["1"],pageType:"",loading:!1,hackReset:!1,optionsExecUser:[],optionsCompany:[],dialogSelectCarType:!1,selectCarOptions:{tableConfig:{plate_number:!0,vin_number:!0,band_name:!0,car_info:!0},formConfig:{type:!0,brand:!0,series:!0,plate_number:!0},pageType:"insuranceOrder"},dialogClose:!1,filtersClose:{msg:""},form:{cp_id:"",opinion:"1",after_user_id:"",remark:"",bus_remark:"",node_id:"0",some_collect_cast:{money:"0",type:"7",item_id:"1",pay_type:"1",pay_method:1,this_cost:"0",non_payment:"",no_pay_id:"",together_cost:"0",cost_img:"",remark:"",status:"1",create_time:"0",update_time:"0"},base_info:{vin_number:"",car_brand:"",car_series:"",car_class:"",foreign_model:"",fuel_type:"",horse_power:"",drive_form:"",color:"",band_id:"",band_name:"",bus_mech_name:"",plate_number:"选择"}}}},components:{selectCar:l["a"]},mounted:function(){this.getFormData()},methods:{isDsiabledBase:function(){return 270!=this.form.node_id&&273!=this.form.node_id&&0!=this.form.node_id},isShowAudit:function(){return 270!=this.form.node_id&&0!=this.form.node_id},isShowSave:function(){if("view"!=this.pageType&&(270==this.form.node_id||273==this.form.node_id||0==this.form.node_id))return 2!=this.form.work_status},isShowFirstAudit:function(){return 270==this.form.node_id||0==this.form.node_id},isShowOpinion:function(){return 2==this.form.work_status},isShowLastAudit:function(){return 1==this.form.work_status||3==this.form.work_status},chooseCar:function(){var e=this;this.dialogSelectCarType=!0,this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0})},getFormData:function(){var e=this,t=this.$route.path,s=this.$route.query;!(t.indexOf("view")>-1)||(this.pageType="view"),Object(r["g"])({}).then(function(t){0==t.code?e.optionsCompany=t.data:e.$message.error(t.msg)}),this.loading=!0,a["B"]({id:s.id}).then(function(t){e.loading=!1,0==t.code&&t.data?(Object.assign(e.form,t.data),e.getExecUser()):e.$message.error(t.msg)})},getExecUser:function(){var e=this,t="",s="3";t=1==this.form.some_collect_cast.pay_method?1:2;var o={cp_id:this.form.cp_id,type:t,get_type:s,node_id:this.form.node_id};this.form.after_user_id="",a["y"](o).then(function(t){0==t.code?e.optionsExecUser=t.data:e.$message.error(t.msg)})},handleSelectAuditor:function(e){this.getExecUser()},handleSubmit:function(e){var t=this;if(270==this.form.node_id||273==this.form.node_id||0==this.form.node_id){var s={id:this.$route.query.id,operation_uniqid:this.form.operation_uniqid,bus_remark:this.form.bus_remark,bus_status:this.form.bus_status,after_user_id:this.form.after_user_id,submit_type:e};a["w"](s).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}else{var o={id:this.form.id,operation_uniqid:this.form.operation_uniqid,submit_type:e,exam_type:this.form.opinion,after_user_id:this.form.after_user_id,remark:this.form.remark};a["v"](o).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}},handleUploadSuccess_bus_status:function(e,t,s){this.form.bus_status.push({uid:t.uid,url:e.data.url})},handleBeforeUpload:function(){},emitCarClose:function(){this.dialogSelectCarType=!1},emitCarSubmit:function(e){this.dialogSelectCarType=!1,Object.assign(this.form.base_info,e)}}},u=c,d=(s("c52a"),s("2877")),f=Object(d["a"])(u,o,i,!1,null,"0aabfb62",null);f.options.__file="edit.vue";t["default"]=f.exports},c52a:function(e,t,s){"use strict";var o=s("734c"),i=s.n(o);i.a},e93f:function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"g",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"e",function(){return n}),s.d(t,"d",function(){return l}),s.d(t,"r",function(){return c}),s.d(t,"o",function(){return u}),s.d(t,"q",function(){return d}),s.d(t,"s",function(){return f}),s.d(t,"p",function(){return m}),s.d(t,"t",function(){return _}),s.d(t,"n",function(){return p}),s.d(t,"k",function(){return b}),s.d(t,"m",function(){return h}),s.d(t,"l",function(){return v}),s.d(t,"b",function(){return g}),s.d(t,"a",function(){return C}),s.d(t,"j",function(){return y}),s.d(t,"i",function(){return k}),s.d(t,"h",function(){return w});s("cadf"),s("551c"),s("097d");var o=s("0c6d"),i=function(e){return Object(o["a"])({url:"/business/Depart/listCP",method:"post",data:e})},a=function(e){return Object(o["a"])({url:"/business/Depart/departListAll",method:"post",data:e})},r=function(e){return Object(o["a"])({url:"/business/Depart/addChildCP",method:"post",data:e})},n=function(e){return Object(o["a"])({url:"/business/Depart/upChildCP",method:"post",data:e})},l=function(e){return Object(o["a"])({url:"/business/Depart/delCP",method:"post",data:e})},c=function(e){return Object(o["a"])({url:"/business/User/listUser",method:"post",data:e})},u=function(e){return Object(o["a"])({url:"/business/User/addUser",method:"post",data:e})},d=function(e){return Object(o["a"])({url:"/business/User/updateUser",method:"post",data:e})},f=function(e){return Object(o["a"])({url:"/business/User/infoUser",method:"post",data:e})},m=function(e){return Object(o["a"])({url:"/business/User/delUser",method:"post",data:e})},_=function(e){return Object(o["a"])({url:"/business/Position/positionList",method:"post",data:e})},p=function(e){return Object(o["a"])({url:"/business/Position/positionList",method:"post",data:e})},b=function(e){return Object(o["a"])({url:"/business/Position/addPosition",method:"post",data:e})},h=function(e){return Object(o["a"])({url:"/business/Position/updatePosition",method:"post",data:e})},v=function(e){return Object(o["a"])({url:"/business/Position/delPosition",method:"post",data:e})},g=function(e){return Object(o["a"])({url:"/business/Role/listRole",method:"post",data:e})},C=function(e){return Object(o["a"])({url:"/business/Role/updateRole",method:"post",data:e})},y=function(e){return Object(o["a"])({url:"/business/Position/positionRoleList",method:"post",data:e})},k=function(e){return Object(o["a"])({url:"/business/Position/updateRolePosition",method:"post",data:e})},w=function(e){return Object(o["a"])({url:"/business/Position/getAllAuthCode",method:"post",data:e})}},f751:function(e,t,s){var o=s("5ca1");o(o.S+o.F,"Object",{assign:s("7333")})}}]);
//# sourceMappingURL=chunk-5d4fd1bc.47a7419c.js.map