webpackJsonp([3],{"/HlI":function(e,t,a){"use strict";var n=a("woOf"),o=a.n(n),r=a("P9l9"),s=a("3a+u");t.a={data:function(){return{title1:"新建公司",queryStr:{company_name:"",total:1,page:1,size:10},form_one_data:{relation_company_name:"",relation_company_id:"",user_name:"",passwd:"",repasswd:"",telphone:"",status:"1"},rules1:{user_name:[{required:!0,message:"请输入管理员名",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"}],repasswd:[{required:!0,message:"请输入确认密码",trigger:"blur"}],telphone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:s.a,trigger:"blur"}],relation_company_name:[{required:!0,message:"请绑定公司",trigger:"blur"}]},form_two_data:{company_name:"",company_contact:"",company_remarks:"",company_tel:""},rules2:{company_name:[{required:!0,message:"请输入公司名",trigger:"blur"}],company_tel:[{validator:s.a,trigger:"blur"}],company_remarks:[{min:0,max:200,message:"长度在 0 到 200 个字符",trigger:"blur"}]},dialogFormOneVisible:!1,dialogFormTwoVisible:!1,dialogTableVisible:!1,tableData:[],tableTwoData:[{id:1,actionTime:"张三",username:"18600877033",actionType:0,remark:1}],loading:!1,centerDialogVisible:!1}},mounted:function(){this.query()},methods:{query:function(e){var t=this,n={page:this.queryStr.page,limit:this.queryStr.limit,company_name:this.queryStr.company_name};a.i(r.l)(n).then(function(e){t.total=Number(e.data.data.total),t.tableData=e.data.data.data})},newAdd:function(){this.title1="新建公司",this.form_two_data={},this.dialogFormTwoVisible=!0},add_query:function(e,t){this.form_one_data.relation_company_id=e.id,this.form_one_data.relation_company_name=e.company_name,this.dialogFormOneVisible=!0},add_admin:function(){var e=this;this.$refs.form1.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.dialogFormOneVisible=!1;var n=e.form_one_data;a.i(r.k)(n).then(function(t){e.$message.success("添加成功"),e.query()})})},add_company:function(){var e=this;this.$refs.form2.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.submitBefore()})},submitBefore:function(){var e=this,t=this.form_two_data;a.i(r.o)(t).then(function(t){e.$message.success("执行成功"),e.dialogFormTwoVisible=!1,e.title1="新建公司",e.query()})},currentChange:function(e){this.queryStr.page=e,this.query()},submit_query:function(){var e=this;this.$refs.form.validate(function(t){if(e.flag=!0,!t)return e.flag=!1,!1;0==e.query_dialog_type?issues_add(e.quesData).then(function(t){e.centerDialogVisible=!1,e.flag=!1}):issues_edit(e.quesData).then(function(t){e.centerDialogVisible=!1,e.tableData[e.list_active_index]=o()(e.tableData[e.list_active_index],e.quesData),e.flag=!1}),e.query()})},edit_query:function(e,t){var n=this;this.title1="编辑公司";var o=e.id,s={id:o};a.i(r.p)(s).then(function(e){n.form_two_data=e.data.data,n.dialogFormTwoVisible=!0})},changeTime:function(e){return new Date(e).getFullYear()+"-"+(new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1)+"-"+(new Date(e).getDate()<10?"0"+new Date(e).getDate():new Date(e).getDate())+" "+(new Date(e).getHours()<10?"0"+new Date(e).getHours():new Date(e).getHours())+":"+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+":"+(new Date(e).getSeconds()<10?"0"+new Date(e).getSeconds():new Date(e).getSeconds())}}}},"3a+u":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=/^1[34578]\d{9}$/,o=(new RegExp("[`~@#$%&*\\[\\]<>？！￥（）{}]"),function(e,t,a){if(!t)return a(new Error("手机号不能为空"));setTimeout(function(){if(!n.test(t))return a(new Error("手机号格式不正确"));a()},1e3)})},"3opF":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("el-form",{ref:"form1",staticClass:"toolbar",attrs:{inline:!0,"label-position":"right","label-width":"100px",model:e.queryStr}},[a("el-row",{attrs:{gutter:24}},[a("el-form-item",{staticClass:"ml15",attrs:{label:"公司名称",prop:"company_name"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.queryStr.company_name,callback:function(t){e.$set(e.queryStr,"company_name","string"==typeof t?t.trim():t)},expression:"queryStr.company_name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.query(1)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.newAdd}},[e._v("新建")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.edit_query(t.row,t.$index)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.add_query(t.row,t.$index)}}},[e._v("新增管理员")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"公司名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.company_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"公司id"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.company_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"联系人"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.company_contact))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"联系方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.company_tel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.company_remarks))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("time")(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("time")(t.row.update_time)))])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next, jumper","page-size":10,total:e.queryStr.total},on:{"current-change":e.currentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新建管理员",visible:e.dialogFormOneVisible},on:{"update:visible":function(t){e.dialogFormOneVisible=t}}},[a("el-form",{ref:"form1",attrs:{"label-width":"120px","label-position":"left",model:e.form_one_data,rules:e.rules1}},[a("el-form-item",{staticClass:"ml15",attrs:{label:"用户名称",prop:"user_name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form_one_data.user_name,callback:function(t){e.$set(e.form_one_data,"user_name",t)},expression:"form_one_data.user_name"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"密码",prop:"passwd"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password"},model:{value:e.form_one_data.passwd,callback:function(t){e.$set(e.form_one_data,"passwd",t)},expression:"form_one_data.passwd"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"重复密码",prop:"repasswd"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password"},model:{value:e.form_one_data.repasswd,callback:function(t){e.$set(e.form_one_data,"repasswd",t)},expression:"form_one_data.repasswd"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"联系电话",prop:"telphone"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form_one_data.telphone,callback:function(t){e.$set(e.form_one_data,"telphone",t)},expression:"form_one_data.telphone"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"绑定公司",prop:"relation_company_name",disable:"true"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form_one_data.relation_company_name,callback:function(t){e.$set(e.form_one_data,"relation_company_name",t)},expression:"form_one_data.relation_company_name"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"状态",prop:"bus_type"}},[a("el-col",{attrs:{span:12}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form_one_data.status,callback:function(t){e.$set(e.form_one_data,"status",t)},expression:"form_one_data.status"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.form_one_data.status,callback:function(t){e.$set(e.form_one_data,"status",t)},expression:"form_one_data.status"}},[e._v("停用")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormOneVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.add_admin}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title1,visible:e.dialogFormTwoVisible},on:{"update:visible":function(t){e.dialogFormTwoVisible=t}}},[a("el-form",{ref:"form2",attrs:{"label-width":"120px","label-position":"left",model:e.form_two_data,rules:e.rules2}},[a("el-form-item",{staticClass:"ml15",attrs:{label:"公司名称",prop:"company_name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form_two_data.company_name,callback:function(t){e.$set(e.form_two_data,"company_name",t)},expression:"form_two_data.company_name"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"联系人",prop:"company_contact"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form_two_data.company_contact,callback:function(t){e.$set(e.form_two_data,"company_contact",t)},expression:"form_two_data.company_contact"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"联系电话",prop:"company_tel"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form_two_data.company_tel,callback:function(t){e.$set(e.form_two_data,"company_tel",t)},expression:"form_two_data.company_tel"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"ml15",attrs:{label:"备注",prop:"company_remarks",disable:"true"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form_two_data.company_remarks,callback:function(t){e.$set(e.form_two_data,"company_remarks",t)},expression:"form_two_data.company_remarks"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormTwoVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.add_company}},[e._v("确 定")])],1)],1)],1)},o=[],r={render:n,staticRenderFns:o};t.a=r},"5XqM":function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".select .el-input__inner{width:203px}","",{version:3,sources:["/Users/lvhaiqiang/Documents/phpProject/zhonghuan/logistics_manage_front/src/views/company/index.vue"],names:[],mappings:"AACA,yBACI,WAAY,CACf",file:"index.vue",sourcesContent:["\n.select  .el-input__inner{\n    width:203px;\n}\n"],sourceRoot:""}])},"7uLT":function(e,t,a){"use strict";var n={dev:{host:"",api:"http://m.com"}},o=void 0,r=window.location.host;for(var s in n)r===n[s].host&&(o=n[s].api);o||(o=n.dev.api)},"F0+f":function(e,t,a){"use strict";function n(e){a("Ny9H"),a("RPPA")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("/HlI"),r=a("3opF"),s=a("VU/8"),i=n,l=s(o.a,r.a,!1,i,"data-v-369b4598",null);t.default=l.exports},Ny9H:function(e,t,a){var n=a("dXcD");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("21527997",n,!0,{})},P9l9:function(e,t,a){"use strict";a.d(t,"B",function(){return s}),a.d(t,"A",function(){return i}),a.d(t,"z",function(){return l}),a.d(t,"v",function(){return u}),a.d(t,"w",function(){return c}),a.d(t,"x",function(){return m}),a.d(t,"y",function(){return d}),a.d(t,"q",function(){return p}),a.d(t,"s",function(){return f}),a.d(t,"r",function(){return _}),a.d(t,"t",function(){return g}),a.d(t,"u",function(){return y}),a.d(t,"l",function(){return b}),a.d(t,"p",function(){return v}),a.d(t,"k",function(){return w}),a.d(t,"n",function(){return h}),a.d(t,"o",function(){return x}),a.d(t,"j",function(){return A}),a.d(t,"m",function(){return C}),a.d(t,"f",function(){return k}),a.d(t,"h",function(){return D}),a.d(t,"i",function(){return q}),a.d(t,"g",function(){return M}),a.d(t,"a",function(){return B}),a.d(t,"d",function(){return S}),a.d(t,"b",function(){return T}),a.d(t,"c",function(){return $}),a.d(t,"e",function(){return R});var n=a("mtWM"),o=a.n(n),r=(a("7uLT"),"http://mgapi.cnxin56.com"),s=function(e){return o.a.post(r+"/Site/doLogin",e).then(function(e){return e.data})},i=function(e){return o.a.post(r+"/Site/loginOut",e).then(function(e){return e.data})},l=function(e){return o.a.post(r+"/Site/pwdModify",e)},u=function(e){return o.a.post(r+"/busResource/BusTypeManage/busList",e)},c=function(e){return o.a.post(r+"/busResource/BusTypeManage/addBus",e)},m=function(e){return o.a.post(r+"/busResource/BusTypeManage/delBus",e)},d=function(e){return o.a.post(r+"/busResource/BusTypeManage/detailBus",e)},p=function(e){return o.a.post(r+"/busResource/BusTypeManage/knowledgeLibrary",e)},f=function(e){return o.a.post(r+"/busResource/BusTypeManage/dictsData",e)},_=function(e){return o.a.post(r+"/busResource/BusTypeManage/addKnowledge",e)},g=function(e){return o.a.post(r+"/busResource/BusTypeManage/detailDictsData",e)},y=function(e){return o.a.post(r+"/busResource/BusTypeManage/deldictsData",e)},b=function(e){return o.a.post(r+"/customer/CompanyManage/companyList",e)},v=function(e){return o.a.post(r+"/customer/CompanyManage/detailCompany",e)},w=function(e){return o.a.post(r+"/customer/CompanyManage/addCompanyAdmin",e)},h=function(e){return o.a.post(r+"/customer/CompanyManage/companyAdminDetail",e)},x=function(e){return o.a.post(r+"/customer/CompanyManage/addCompany",e)},A=function(e){return o.a.post(r+"/customer/CompanyManage/adminList",e)},C=function(e){return o.a.post(r+"/customer/CompanyManage/delAdmin",e)},k=function(e){return o.a.post(r+"/customer/PageManage/pageRouteList",e)},D=function(e){return o.a.post(r+"/customer/PageManage/routeDel",e)},q=function(e){return o.a.post(r+"/customer/PageManage/routeDetail",e)},M=function(e){return o.a.post(r+"/customer/PageManage/addRoutes",e)},B=function(e){return o.a.post(r+"/customer/PageManage/workRoleList",e)},S=function(e){return o.a.post(r+"/customer/PageManage/workRoleDel",e)},T=function(e){return o.a.post(r+"/customer/PageManage/routeTree",e)},$=function(e){return o.a.post(r+"/customer/PageManage/addWorkRole",e)},R=function(e){return o.a.post(r+"/customer/PageManage/workRoleDetail",e)}},RPPA:function(e,t,a){var n=a("5XqM");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("52d10167",n,!0,{})},dXcD:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".el-radio-group[data-v-369b4598]{display:-webkit-flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.el-radio-group label[data-v-369b4598]{-ms-flex-preferred-size:25%;flex-basis:25%;margin-left:0;line-height:30px}","",{version:3,sources:["/Users/lvhaiqiang/Documents/phpProject/zhonghuan/logistics_manage_front/src/views/company/index.vue"],names:[],mappings:"AACA,iCACE,qBAAsB,AACtB,mBAAoB,AAChB,cAAgB,CACrB,AACD,uCACI,4BAA6B,AACzB,eAAgB,AACpB,cAAe,AACf,gBAAkB,CACrB",file:"index.vue",sourcesContent:["\n.el-radio-group[data-v-369b4598] {\n  display: -webkit-flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.el-radio-group label[data-v-369b4598] {\n    -ms-flex-preferred-size: 25%;\n        flex-basis: 25%;\n    margin-left: 0;\n    line-height: 30px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=3.8b79f723463db5099495.js.map