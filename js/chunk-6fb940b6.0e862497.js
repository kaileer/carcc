(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fb940b6"],{4987:function(t,e,a){"use strict";var i=a("4abb"),n=a.n(i);n.a},"4abb":function(t,e,a){},fa8b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("el-form",{ref:"filters",staticClass:"toolbar",attrs:{inline:!0,model:t.filters}},[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.chooseCar}},[t._v("新建")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"plate_number",label:"车牌号",width:"150"}}),a("el-table-column",{attrs:{prop:"vin_number",label:"vin号",width:"120"}}),a("el-table-column",{attrs:{prop:"band_name",label:"车主名称",width:"120"}}),a("el-table-column",{attrs:{prop:"car_brand",label:"车辆品牌",width:"120"}}),a("el-table-column",{attrs:{prop:"car_series",label:"车辆系列",width:"120"}}),a("el-table-column",{attrs:{prop:"stage_name",label:"工单阶段",width:"120"}}),a("el-table-column",{attrs:{prop:"work_status_name",label:"工单状态",width:"120"}}),a("el-table-column",{attrs:{prop:"operater",label:"当前处理人",width:"120"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n                    "+t._s(t._f("time")(a.create_time))+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,n=e.$index;return[a("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(e){t.$router.push({path:"/insuranceServices/view",query:{id:i.id}})}}},[t._v("\n                        查看\n                    ")]),t.isShowEdit(i)?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){t.$router.push({path:"/insuranceServices/edit",query:{id:i.id}})}}},[t._v("\n                        修改\n                    ")]):t._e(),t.isShowAudit(i)?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){t.$router.push({path:"/insuranceServices/edit",query:{id:i.id,work_status:i.work_status,stage_id:i.stage_id}})}}},[t._v("\n                        审核\n                    ")]):t._e(),t.isShowDel(i)?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){t.handleDelete(i,n)}}},[t._v("\n                        删除\n                    ")]):t._e()]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next, jumper","page-size":t.limit,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"选择车辆",visible:t.dialogSelectCarType,width:"50%"},on:{"update:visible":function(e){t.dialogSelectCarType=e}}},[a("selectCar",{attrs:{selectCarOptions:t.selectCarOptions},on:{emitCarSubmit:t.emitCarSubmit,emitCarClose:t.emitCarClose}})],1)],1)},n=[],l=a("c93e"),r=a("b1b2"),o=a("f46c"),s={data:function(){return{tableData:[],page:1,limit:10,total:0,loading:!0,hackReset:!1,dialogSelectCarType:!1,selectCarOptions:{tableConfig:{plate_number:!0,vin_number:!0,band_name:!0,car_info:!0},formConfig:{val:!1},addCar:!0,pageType:"insuranceOrder"},filters:{vin_number:"",bus_user_name:"",work_status:"",stage_id:""},options:[{value:"1",label:"黄金糕"},{value:"2",label:"双皮奶"},{value:"3",label:"蚵仔煎"},{value:"4",label:"龙须面"},{value:"5",label:"北京烤鸭"}],idx:-1}},components:{selectCar:o["a"]},created:function(){this.getData()},methods:{isShowEdit:function(t){if(0==t.stage_id||7==t.stage_id)return 1==t.work_status&&1==t.handle},isShowAudit:function(t){return 0==t.stage_id||7==t.stage_id?1!=t.work_status&&1==t.auth_user:1==t.auth_user&&15!=t.stage_id},isShowDel:function(t){if(0==t.stage_id||7==t.stage_id)return 1==t.work_status},chooseCar:function(){this.dialogSelectCarType=!0},handleCurrentChange:function(t){this.page=t,this.getData()},getData:function(t){var e=this,a=Object(l["a"])({page:this.page},this.filters);this.loading=!0,r["P"](a).then(function(t){e.loading=!1,0==t.code?(e.tableData=t.data.data,e.total=t.total):e.$message.error(t.msg)})},search:function(){this.getData(this.filters)},handleDelete:function(t,e){var a=this;r["M"]({id:t.id}).then(function(t){0==t.code?a.tableData.splice(e,1):a.$message.error(t.msg)})},handleConfirmCar:function(t){this.dialogSelectCarType=!1},emitCarClose:function(){this.dialogSelectCarType=!1},emitCarSubmit:function(t){var e=this,a={bus_id:t.id};r["K"](a).then(function(t){0==t.code?(e.dialogSelectCarType=!1,e.getData()):e.$message.error(t.msg)})}}},c=s,u=(a("4987"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"3d0f48c6",null);d.options.__file="list.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-6fb940b6.0e862497.js.map