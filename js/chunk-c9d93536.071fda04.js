(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9d93536"],{2621:function(e,t){t.f=Object.getOwnPropertySymbols},"49e9":function(e,t,a){},"6d56":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["default"==this.selectClientOptions.pageType?a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleTabClick},model:{value:e.tabsActive,callback:function(t){e.tabsActive=t},expression:"tabsActive"}},[a("el-tab-pane",{attrs:{label:"个人",name:"people"}}),a("el-tab-pane",{attrs:{label:"公司",name:"company"}})],1):e._e(),"people"==this.selectClientOptions.pageType?a("el-table",{attrs:{data:e.tableData,border:"",height:"250"}},[a("el-table-column",{attrs:{label:"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[a("el-radio",{attrs:{label:r+1},on:{change:function(t){e.handleSelectClient(i,r)}},model:{value:e.radioActive,callback:function(t){e.radioActive=t},expression:"radioActive"}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"客户名称",width:"120"}}),a("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"120"}}),a("el-table-column",{attrs:{prop:"id_card",label:"身份证号",width:"120"}}),a("el-table-column",{attrs:{prop:"partnership_company",label:"担保公司",width:"120"}}),a("el-table-column",{attrs:{prop:"personal_owner_name",label:"担保人",width:"120"}}),a("el-table-column",{attrs:{prop:"is_call",label:"是否有销售订单挂靠",width:"130"}})],1):a("el-table",{attrs:{data:e.tableData,border:"",height:"250"}},[a("el-table-column",{attrs:{label:"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[a("el-radio",{attrs:{label:r+1},on:{change:function(t){e.handleSelectClient(i,r)}},model:{value:e.radioActive,callback:function(t){e.radioActive=t},expression:"radioActive"}})]}}])}),a("el-table-column",{attrs:{prop:"company_name",label:"客户名称",width:"120"}}),a("el-table-column",{attrs:{prop:"contact",label:"联系人",width:"120"}}),a("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"120"}}),a("el-table-column",{attrs:{prop:"credit_code",label:"统一信用代码",width:"120"}}),a("el-table-column",{attrs:{prop:"is_call",label:"是否有销售订单挂靠",width:"130"}})],1),a("div",{staticClass:"ta-r pt10"},[1==e.selectClientOptions.goback?a("el-button",{attrs:{type:"primary"},on:{click:e.handleGoback}},[e._v("返回")]):e._e(),a("el-button",{on:{click:function(t){e.$emit("emitClientClose",!1)}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit()}}},[e._v(e._s(e.submitText))])],1)],1)},r=[],o=a("c93e"),s=a("9d0a"),n={props:{selectClientOptions:{type:Object,default:{tableConfig:{name:!1,val:!1},formConfig:{val:!1},pageType:"default",isNextButton:!1,goback:!1}}},data:function(){return{tableData:[],tableDataObject:{},page:1,total:1,limit:1,radioActive:"",tabsActive:"company",submitText:"",filters:{movieID:"",movieName:"",value:"3"}}},created:function(){},mounted:function(){this.checkPath()},computed:{},methods:{handleCurrentChange:function(e){this.page=e,this.getData(this.tabsActive)},checkPath:function(){var e=this,t=Object(o["a"])({},this.filters,{page:this.page});this.selectClientOptions.isNextButton?this.submitText="下一步":this.submitText="完 成","company"==this.selectClientOptions.pageType?s["t"](t).then(function(t){0==t.code?(e.tableData=t.data,e.total=t.total):e.$message.error(t.msg)}):s["u"](t).then(function(t){0==t.code?(e.tableDataObject=t.data,e.getData("people")):e.$message.error(t.msg)})},getData:function(e){this.tableData="company"==e?this.tableDataObject.company_info:this.tableDataObject.person_info},handleTabClick:function(e){this.getData(e.paneName)},handleSelectClient:function(e,t){},handleGoback:function(){this.$emit("emitClientGoback",!1)},handleSubmit:function(){this.$emit("emitClientSubmit",this.tableData[this.radioActive-1])}}},l=n,c=a("2877"),u=Object(c["a"])(l,i,r,!1,null,null,null);u.options.__file="selectClient.vue";t["a"]=u.exports},7333:function(e,t,a){"use strict";var i=a("0d58"),r=a("2621"),o=a("52a7"),s=a("4bf8"),n=a("626a"),l=Object.assign;e.exports=!l||a("79e5")(function(){var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=i})?function(e,t){var a=s(e),l=arguments.length,c=1,u=r.f,f=o.f;while(l>c){var d,_=n(arguments[c++]),p=u?i(_).concat(u(_)):i(_),m=p.length,h=0;while(m>h)f.call(_,d=p[h++])&&(a[d]=_[d])}return a}:l},8035:function(e,t,a){"use strict";var i=a("49e9"),r=a.n(i);r.a},"9d0a":function(e,t,a){"use strict";a.d(t,"h",function(){return r}),a.d(t,"f",function(){return o}),a.d(t,"j",function(){return s}),a.d(t,"g",function(){return n}),a.d(t,"i",function(){return l}),a.d(t,"q",function(){return c}),a.d(t,"l",function(){return u}),a.d(t,"n",function(){return f}),a.d(t,"s",function(){return d}),a.d(t,"p",function(){return _}),a.d(t,"o",function(){return p}),a.d(t,"r",function(){return m}),a.d(t,"m",function(){return h}),a.d(t,"d",function(){return b}),a.d(t,"a",function(){return v}),a.d(t,"c",function(){return g}),a.d(t,"b",function(){return y}),a.d(t,"e",function(){return k}),a.d(t,"t",function(){return w}),a.d(t,"u",function(){return C}),a.d(t,"k",function(){return S});a("cadf"),a("551c"),a("097d");var i=a("0c6d"),r=function(e){return Object(i["a"])({url:"/asset/PartnerShipFile/list",method:"post",data:e})},o=function(e){return Object(i["a"])({url:"/asset/PartnerShipFile/create",method:"post",data:e})},s=function(e){return Object(i["a"])({url:"/asset/PartnerShipFile/view",method:"post",data:e})},n=function(e){return Object(i["a"])({url:"/asset/PartnerShipFile/update",method:"post",data:e})},l=function(e){return Object(i["a"])({url:"/asset/PartnerShipFile/codeRepite",method:"post",data:e})},c=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/list",method:"post",data:e})},u=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/create",method:"post",data:e})},f=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/update",method:"post",data:e})},d=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/view",method:"post",data:e})},_=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/codeRepite",method:"post",data:e})},p=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/assureCompany",method:"post",data:e})},m=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/assurePersonal",method:"post",data:e})},h=function(e){return Object(i["a"])({url:"/asset/PersonalOwner/driveType",method:"post",data:e})},b=function(e){return Object(i["a"])({url:"/asset/CarFile/list",method:"post",data:e})},v=function(e){return Object(i["a"])({url:"/asset/CarFile/create",method:"post",data:e})},g=function(e){return Object(i["a"])({url:"/asset/CarFile/update",method:"post",data:e})},y=function(e){return Object(i["a"])({url:"/asset/CarFile/delete",method:"post",data:e})},k=function(e){return Object(i["a"])({url:"/asset/CarFile/view",method:"post",data:e})},w=function(e){return Object(i["a"])({url:"/asset/CarFile/callCompany",method:"post",data:e})},C=function(e){return Object(i["a"])({url:"/asset/CarFile/bandCarOwmer",method:"post",data:e})},S=function(e){return Object(i["a"])({url:"/asset/CarFile/insuranceCompany",method:"post",data:e})}},aa77:function(e,t,a){var i=a("5ca1"),r=a("be13"),o=a("79e5"),s=a("fdef"),n="["+s+"]",l="​",c=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),f=function(e,t,a){var r={},n=o(function(){return!!s[e]()||l[e]()!=l}),c=r[e]=n?t(d):s[e];a&&(r[a]=c),i(i.P+i.F*n,"String",r)},d=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},abbd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"110px"}},[a("el-row",{staticClass:"toolbar bgc-fff"},[a("el-col",{attrs:{span:12}},[a("h2",{staticClass:"fs-18"},[e._v("当前订单状态："),a("span",{staticClass:"color-red"},[e._v(e._s(e.form.pur_info.work_status_name)+"("+e._s(e.form.pur_info.stage_name)+")")])]),a("p",{staticClass:"fs-14"},[e._v("当前处理人："+e._s(e.form.pur_info.user_name))])])],1),a("el-collapse",{on:{change:function(e){}},model:{value:e.collapseActive,callback:function(t){e.collapseActive=t},expression:"collapseActive"}},[a("el-collapse-item",{attrs:{title:"　采购信息",name:"1"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新车采购单编号"}},[e._v("\n                            "+e._s(e.form.pur_info.purchase_node)+"\n                        ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售单编号"}},[e._v("\n                            "+e._s(e.form.pur_info.sale_node)+"\n                        ")])],1)],1),a("el-form-item",{attrs:{label:"供应商"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:e.isDisabledBase()},model:{value:e.form.pur_info.supplier,callback:function(t){e.$set(e.form.pur_info,"supplier",t)},expression:"form.pur_info.supplier"}},e._l(e.optionsSupplier,function(e){return a("el-option",{key:e.id,attrs:{label:e.supplier_name,value:e.id}})}))],1)],1),a("el-collapse-item",{attrs:{title:"　采购信息",name:"2"}},[e.isShowAddBtn()?a("div",{staticClass:"toolbar ta-r mb10"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:e.handleSelectCarType}},[e._v("添加商品")])],1):e._e(),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.form.car_list.rows,border:""}},[a("el-table-column",{attrs:{label:"商品信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[a("p",[e._v(e._s(i.car_series)+" "+e._s(i.car_brand))]),a("p",[e._v(e._s(i.horse_power)+" "+e._s(i.drive_form)+" "+e._s(i.car_class))]),a("p",[e._v(e._s(i.fuel_type))])]}}])}),a("el-table-column",{attrs:{prop:"color",label:"颜色",width:"120"}}),a("el-table-column",{attrs:{prop:"vin_number",label:"vin *17位vin号",width:"120"}}),e.isShowTable11()?[a("el-table-column",{attrs:{label:"采购单价"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-input",{model:{value:i.purchase_price,callback:function(t){e.$set(i,"purchase_price",t)},expression:"row.purchase_price"}})]}}])}),a("el-table-column",{attrs:{label:"数量",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-input-number",{attrs:{size:"mini",min:1,max:100,disabled:1==e.form.pur_info.type},model:{value:i.num,callback:function(t){e.$set(i,"num",t)},expression:"row.num"}})]}}])}),a("el-table-column",{attrs:{label:"小计"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;t.$index;return[e._v("\n                                "+e._s(e.jijia(a))+"\n                            ")]}}])})]:[a("el-table-column",{attrs:{prop:"purchase_price",label:"采购单价"}}),a("el-table-column",{attrs:{prop:"num",label:"数量"}}),a("el-table-column",{attrs:{prop:"total_price",label:"小计"}})],a("el-table-column",{attrs:{label:"操作",width:"180",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[e.isShowPerfect()?a("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(t){e.handleComplete(i,r)}}},[e._v("完善信息")]):e._e(),e.isShowTable11()?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){e.handleDelete(i,r)}}},[e._v("删除")]):e._e()]}}])})],2),a("div",{staticClass:"toolbar ta-r mt10"},[a("span",[e._v("共选择"),a("b",{staticClass:"color-red fs-16"},[e._v(" "+e._s(e.goodsTotal)+" ")]),e._v("件商品")]),a("el-tag",{attrs:{type:"danger"}},[e._v("￥："+e._s(e.grossAmount))])],1)],1),a("el-collapse-item",{attrs:{title:"　付款信息",name:"3"}},[a("el-collapse",{model:{value:e.collapseGatheringActive,callback:function(t){e.collapseGatheringActive=t},expression:"collapseGatheringActive"}},[a("el-collapse-item",{attrs:{title:"　定金支付审核",name:"1"}},[a("el-form-item",{attrs:{label:"费用金额"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment1()},model:{value:e.form.pay_info_ding.cost_amount,callback:function(t){e.$set(e.form.pay_info_ding,"cost_amount",t)},expression:"form.pay_info_ding.cost_amount"}})],1),a("el-form-item",{attrs:{label:"收款银行"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment1()},model:{value:e.form.pay_info_ding.cash_bank,callback:function(t){e.$set(e.form.pay_info_ding,"cash_bank",t)},expression:"form.pay_info_ding.cash_bank"}})],1),a("el-form-item",{attrs:{label:"银行开户名"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment1()},model:{value:e.form.pay_info_ding.account_name,callback:function(t){e.$set(e.form.pay_info_ding,"account_name",t)},expression:"form.pay_info_ding.account_name"}})],1),a("el-form-item",{attrs:{label:"银行帐号"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment1()},model:{value:e.form.pay_info_ding.bank_number,callback:function(t){e.$set(e.form.pay_info_ding,"bank_number",t)},expression:"form.pay_info_ding.bank_number"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isDisabledPayment1()},model:{value:e.form.pay_info_ding.sale_remarkes,callback:function(t){e.$set(e.form.pay_info_ding,"sale_remarkes",t)},expression:"form.pay_info_ding.sale_remarkes"}})],1),e.isShowVoucher1()?[a("el-form-item",{attrs:{label:"费用凭证"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.isDisabledPaymentCashier1(),action:e.IMG_UPLOAD_URL,"show-file-list":!1,"on-success":e.handleUploadSuccess_dj_cost_voucher_img,"before-upload":e.handleBeforeUpload}},[e.form.pay_info_ding.cost_voucher?a("img",{staticClass:"avatar",attrs:{src:e.form.pay_info_ding.cost_voucher}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isDisabledPaymentCashier1()},model:{value:e.form.pay_info_ding.cost_voucher_remarkes,callback:function(t){e.$set(e.form.pay_info_ding,"cost_voucher_remarkes",t)},expression:"form.pay_info_ding.cost_voucher_remarkes"}})],1)]:e._e(),e.isShowFirstAudit()?a("el-form-item",{attrs:{label:"选择审核人"}},[a("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.pur_info.cp_id,callback:function(t){e.$set(e.form.pur_info,"cp_id",t)},expression:"form.pur_info.cp_id"}},e._l(e.optionsCompany,function(e){return a("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.pur_info.first_exec_id,callback:function(t){e.$set(e.form.pur_info,"first_exec_id",t)},expression:"form.pur_info.first_exec_id"}},e._l(e.optionsExecUser,function(e){return a("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()],2),1!=this.form.pur_info.stage_id?a("el-collapse-item",{attrs:{title:"　尾款支付审核",name:"2"}},[a("el-form-item",{attrs:{label:"费用金额"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment2()},model:{value:e.form.pay_info_last.cost_amount,callback:function(t){e.$set(e.form.pay_info_last,"cost_amount",t)},expression:"form.pay_info_last.cost_amount"}})],1),a("el-form-item",{attrs:{label:"收款银行"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment2()},model:{value:e.form.pay_info_last.cash_bank,callback:function(t){e.$set(e.form.pay_info_last,"cash_bank",t)},expression:"form.pay_info_last.cash_bank"}})],1),a("el-form-item",{attrs:{label:"银行开户名"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment2()},model:{value:e.form.pay_info_last.account_name,callback:function(t){e.$set(e.form.pay_info_last,"account_name",t)},expression:"form.pay_info_last.account_name"}})],1),a("el-form-item",{attrs:{label:"银行帐号"}},[a("el-input",{attrs:{disabled:e.isDisabledPayment2()},model:{value:e.form.pay_info_last.bank_number,callback:function(t){e.$set(e.form.pay_info_last,"bank_number",t)},expression:"form.pay_info_last.bank_number"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isDisabledPayment2()},model:{value:e.form.pay_info_last.sale_remarkes,callback:function(t){e.$set(e.form.pay_info_last,"sale_remarkes",t)},expression:"form.pay_info_last.sale_remarkes"}})],1),e.isShowVoucher2()?[a("el-form-item",{attrs:{label:"费用凭证"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.isDisabledPaymentCashier2(),action:e.IMG_UPLOAD_URL,"show-file-list":!1,"on-success":e.handleUploadSuccess_wk_cost_voucher_img,"before-upload":e.handleBeforeUpload}},[e.form.pay_info_last.cost_voucher?a("img",{staticClass:"avatar",attrs:{src:e.form.pay_info_last.cost_voucher}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isDisabledPaymentCashier2()},model:{value:e.form.pay_info_last.cost_voucher_remarkes,callback:function(t){e.$set(e.form.pay_info_last,"cost_voucher_remarkes",t)},expression:"form.pay_info_last.cost_voucher_remarkes"}})],1)]:e._e()],2):e._e()],1)],1),e.isShowAudit()?a("el-collapse-item",{attrs:{title:"　审核信息",name:"4"}},[a("el-collapse",{model:{value:e.collapseAuditActive,callback:function(t){e.collapseAuditActive=t},expression:"collapseAuditActive"}},[a("el-collapse-item",{attrs:{title:"　定金支付审核",name:"1"}},e._l(e.form.exam_dj,function(t){return a("el-card",{key:t.exec_user_id,staticClass:"box-card mb15"},[a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("订单流程：")]),e._v(e._s(t.node_name))]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核意见：")]),e._v(e._s(t.exec_op_type))]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("备注：")]),e._v(e._s(t.exec_content))]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核人ID：")]),e._v(" "+e._s(t.exec_user_id))]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核时间：")]),e._v(e._s(e._f("time")(t.create_time)))])])})),1!=this.form.pur_info.stage_id?a("el-collapse-item",{attrs:{title:"　尾款支付审核",name:"2"}},[a("el-card",{staticClass:"box-card mb15"},[a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("订单流程：")]),e._v("定金审核 - 财务")]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核意见：")]),e._v("通过")]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("备注：")]),e._v("撒打算")]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核人ID：")]),e._v(" asdas")]),a("div",[a("span",{staticClass:"display-ib ta-r w80"},[e._v("审核时间：")]),e._v("2018-10-23 00:49:38")])])],1):e._e(),e.isShowOpinion()?[a("el-form-item",{staticClass:"mt15",attrs:{label:"审核意见"}},[a("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择"},model:{value:e.form.opinion,callback:function(t){e.$set(e.form,"opinion",t)},expression:"form.opinion"}},[a("el-option",{attrs:{label:"通过",value:"1"}}),a("el-option",{attrs:{label:"驳回",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),23!=e.form.pur_info.node_id&&28!=e.form.pur_info.node_id?a("el-form-item",{attrs:{label:"选择审核人"}},[a("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.pur_info.cp_id,callback:function(t){e.$set(e.form.pur_info,"cp_id",t)},expression:"form.pur_info.cp_id"}},e._l(e.optionsCompany,function(e){return a("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.pur_info.after_user_id,callback:function(t){e.$set(e.form.pur_info,"after_user_id",t)},expression:"form.pur_info.after_user_id"}},e._l(e.optionsExecUser,function(e){return a("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()]:e._e(),e.isShowLastAudit()?a("el-form-item",{staticClass:"mt15",attrs:{label:"选择审核人"}},[a("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择公司"},on:{change:e.handleSelectAuditor},model:{value:e.form.pur_info.cp_id,callback:function(t){e.$set(e.form.pur_info,"cp_id",t)},expression:"form.pur_info.cp_id"}},e._l(e.optionsCompany,function(e){return a("el-option",{key:e.id,attrs:{label:e.mc_name,value:e.id}})})),a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.form.pur_info.first_exec_id,callback:function(t){e.$set(e.form.pur_info,"first_exec_id",t)},expression:"form.pur_info.first_exec_id"}},e._l(e.optionsExecUser,function(e){return a("el-option",{key:e.id,attrs:{label:e.user_name,value:e.id}})}))],1):e._e()],2)],1):e._e()],1),a("el-form-item",{staticClass:"form-submit"},["view"!=e.pageType?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){e.handleSubmit(1)}}},[e._v("提交")]):e._e(),e.isShowSave()?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){e.handleSubmit(2)}}},[e._v("保存")]):e._e(),a("el-button",{on:{click:function(t){e.$router.back()}}},[e._v("返回")])],1)],1),a("el-dialog",{attrs:{title:"选择车型",visible:e.dialogSelectCarType,width:"50%"},on:{"update:visible":function(t){e.dialogSelectCarType=t}}},[e.hackReset?a("selectCar",{attrs:{selectCarOptions:e.selectCarOptions},on:{emitCarSubmit:e.emitCarSubmit,emitCarClose:e.emitCarClose}}):e._e()],1),a("el-dialog",{attrs:{title:"完善信息",visible:e.dialogComplete,width:"50%"},on:{"update:visible":function(t){e.dialogComplete=t}}},[a("el-form",{ref:"formPerfect",attrs:{model:e.formPerfect,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"车辆商品"},scopedSlots:e._u([{key:"default",fn:function(e){e.row,e.$index}}])}),e._l(e.arrComplete,function(t,i){return a("el-card",{key:i,staticClass:"box-card mb10"},[a("el-form-item",{attrs:{label:"VIN"}},[a("el-input",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{placeholder:"请输入VIN"},model:{value:t.vin,callback:function(a){e.$set(t,"vin",a)},expression:"item.vin"}})],1),a("el-form-item",{attrs:{label:"购车发票号"}},[a("el-input",{attrs:{placeholder:"请输入购车发票号"},model:{value:t.order_id,callback:function(a){e.$set(t,"order_id",a)},expression:"item.order_id"}}),a("el-upload",{staticClass:"avatar-uploader mt10",attrs:{action:e.IMG_UPLOAD_URL,"show-file-list":!1,"on-success":function(t,a){return e.handleUploadSuccess_order_img_url(t,a,i)},"before-upload":e.handleBeforeUpload}},[t.order_img_url?a("img",{staticClass:"avatar",attrs:{src:t.order_img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"合格证号"}},[a("el-input",{attrs:{placeholder:"请输入合格证号"},model:{value:t.certificate_id,callback:function(a){e.$set(t,"certificate_id",a)},expression:"item.certificate_id"}}),a("el-upload",{staticClass:"avatar-uploader mt10",attrs:{action:e.IMG_UPLOAD_URL,"show-file-list":!1,"on-success":function(t,a){return e.handleUploadSuccess_certificate_img_url(t,a,i)},"before-upload":e.handleBeforeUpload}},[t.certificate_img_url?a("img",{staticClass:"avatar",attrs:{src:t.certificate_img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)})],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogComplete=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogSubmitComplete}},[e._v("确 定")])],1)],1)],1)},r=[],o=a("c93e"),s=(a("f751"),a("c5f6"),a("ac6a"),a("cadf"),a("551c"),a("097d"),a("3dd6")),n=a("e93f"),l=a("63ee"),c=a("f46c"),u=a("6d56"),f=a("da71"),d={data:function(){return{IMG_UPLOAD_URL:"".concat(f["a"],"/home/UpLoadFile/uploadImg"),collapseActive:["1"],collapseAuditActive:["1"],collapseGatheringActive:["1"],dataDelivery:[{name:""}],pageType:"",addType:"",radioActive:"",carListActive:"",loading:!0,arrComplete:[],itemComplete:{},dialogDelivery:!1,dialogComplete:!1,couponSum:12,visiblePayment:!1,visibleEarnest:!1,hackReset:!1,dialogSelectCarType:!1,selectCarOptions:{tableConfig:{car_info:!0,yanse:!0,gonggao:!0,danjia:!0},formConfig:{val:!1},pageType:"salesManagement",isCheckbox:!0},formPerfect:{sale_pur_info_id:"",order_id:"",order_img_url:"",certificate_id:"",certificate_img_url:"",invoice_img:"",invoice_id:"",arr:[{vin:"1",order_id:"1",order_img_url:"",certificate_id:"1",certificate_img_url:""},{vin:"2",order_id:"2",order_img_url:"",certificate_id:"2",certificate_img_url:""}]},form:{company:"",opinion:"",auditor:"",remark:"",pur_info:{cp_id:"",purchase_node:"",sale_node:"",supplier:"",first_exec_id:"",after_user_id:"",work_id:"",work_status:"1",work_status_name:"待提交",stage_id:"1",stage_name:"定金阶段"},car_list:{rows:[],total:"1",total_num:3,total_price:639},pay_info_ding:{cost_amount:"",cash_bank:"",bank_number:"",sale_remarkes:"",account_name:"",pay_type:"2",cost_voucher:"",cost_voucher_remarkes:"",operater_id:"",create_time:""},pay_info_last:{cost_amount:"",cash_bank:"",bank_number:"",sale_remarkes:"",account_name:"",pay_type:"3",cost_voucher:"",cost_voucher_remarkes:"",operater_id:"",create_time:""}},optionsSupplier:[],optionsExecUser:[],optionsCompany:[]}},components:{selectCar:c["a"],selectClient:u["a"]},computed:{grossAmount:function(){var e=0;return this.form.car_list.rows.forEach(function(t,a){e+=Number(t.purchase_price)*t.num}),e},jijia:function(e){return function(e){return e.num*e.purchase_price}},goodsTotal:function(){var e=0;return this.form.car_list.rows.forEach(function(t,a){e+=1*t.num}),e}},mounted:function(){this.getFormData()},methods:{isDisabledBase:function(){return"view"==this.pageType||!(1==this.form.pur_info.stage_id&&1==this.form.pur_info.work_status)},isDisabledPayment1:function(){return 1!=this.form.pur_info.stage_id||"view"==this.pageType||(2==this.form.pur_info.work_status||4==this.form.pur_info.work_status)},isDisabledPayment2:function(){return 6!=this.form.pur_info.stage_id||"view"==this.pageType||(2==this.form.pur_info.work_status||4==this.form.pur_info.work_status)},isDisabledPaymentCashier1:function(){return 1!=this.form.pur_info.stage_id||"view"==this.pageType||2!=this.form.pur_info.work_status&&23==this.form.pur_info.node_id},isDisabledPaymentCashier2:function(){return 6!=this.form.pur_info.stage_id||"view"==this.pageType||2!=this.form.pur_info.work_status&&28==this.form.pur_info.node_id},isShowTable11:function(){return"view"!=this.pageType&&(1==this.form.pur_info.stage_id&&1==this.form.pur_info.work_status)},isShowAddBtn:function(){return"view"!=this.pageType&&(1==this.form.pur_info.stage_id&&1==this.form.pur_info.work_status)},isShowAudit:function(){return 1!=this.form.pur_info.stage_id||1!=this.form.pur_info.work_status},isShowOpinion:function(){return 2==this.form.pur_info.work_status&&37!=this.form.pur_info.node_id},isShowFirstAudit:function(){return 1==this.form.pur_info.stage_id&&1==this.form.pur_info.work_status},isShowLastAudit:function(){return 1==this.form.pur_info.work_status||3==this.form.pur_info.work_status},isShowVoucher1:function(){return 1!=this.form.pur_info.stage_id||this.form.pur_info.node_id>=23&&2==this.form.pur_info.work_status},isShowVoucher2:function(){return 6!=this.form.pur_info.stage_id||this.form.pur_info.node_id>=28&&2==this.form.pur_info.work_status},isShowSave:function(){if("view"!=this.pageType&&0==this.loading)return 1==this.form.pur_info.work_status||3==this.form.pur_info.work_status},isShowPerfect:function(){return 1==this.form.pur_info.stage_id?1!=this.form.pur_info.work_status:4!=this.form.pur_info.work_status},getFormData:function(){var e=this,t=this.$route.path,a=this.$route.query;!(t.indexOf("view")>-1)||(this.pageType="view"),this.addType=a.addType,Object(l["o"])({}).then(function(t){0==t.code?e.optionsSupplier=t.data:e.$message.error(t.msg)}),Object(n["g"])({}).then(function(t){0==t.code?e.optionsCompany=t.data:e.$message.error(t.msg)}),a.id?1==this.form.pur_info.stage_id?s["i"]({pur_info_id:a.id}).then(function(t){0==t.code?(e.loading=!1,Object.assign(e.form,t.data),e.getExecUserNodeId()):e.$message.error(t.msg)}):2==this.form.pur_info.stage_id&&s["m"]({pur_info_id:a.id}).then(function(t){0==t.code?(e.loading=!1,Object.assign(e.form,t.data),e.getExecUserNodeId()):e.$message.error(t.msg)}):(this.loading=!1,s["d"]({}).then(function(t){e.form.pur_info.purchase_node=t.data.purchase_node}),this.getExecUserNodeId())},getExecUserNodeId:function(){var e=this.form.pur_info.stage_id;this.execUserNodeId=1==e?33:34,this.getExecUser()},getExecUser:function(){var e=this,t={cp_id:this.form.pur_info.cp_id,work_id:this.form.pur_info.work_id,node_id:1==this.form.pur_info.work_status?this.execUserNodeId:this.form.pur_info.node_id};s["q"](t).then(function(t){0==t.code?e.optionsExecUser=t.data:e.$message.error(t.msg)})},handleSubmit:function(e){var t=this;if(1==this.form.pur_info.stage_id){if(1==this.form.pur_info.work_status||3==this.form.pur_info.work_status){var a={base:Object(o["a"])({submit_type:e,type:this.addType},this.form.pur_info),pay_info:Object(o["a"])({},this.form.pay_info_ding),car_list:this.form.car_list.rows};s["b"](a).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}else if(2==this.form.pur_info.work_status&&23==this.form.pur_info.node_id){var i={submit_type:e,pur_info_id:this.form.pur_info.pur_info_id,after_user_id:this.form.pur_info.after_user_id,pay_type:this.form.pay_info_ding.pay_type,cost_voucher:this.form.pay_info_ding.cost_voucher,cost_voucher_remarkes:this.form.pay_info_ding.cost_voucher_remarkes};s["h"](i).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}}else if(6==this.form.pur_info.stage_id){if(1==this.form.pur_info.work_status||3==this.form.pur_info.work_status){var r={submit_type:e,pur_info_id:this.form.pur_info.pur_info_id,cost_amount:this.form.pay_info_last.cost_amount,cash_bank:this.form.pay_info_last.cash_bank,account_name:this.form.pay_info_last.account_name,bank_number:this.form.pay_info_last.bank_number,sale_remarkes:this.form.pay_info_last.sale_remarkes,first_exec_id:this.form.pur_info.first_exec_id};s["a"](r).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}else if(2==this.form.pur_info.work_status&&28==this.form.pur_info.node_id){var n={submit_type:e,pur_info_id:this.form.pur_info.pur_info_id,after_user_id:this.form.pur_info.after_user_id,pay_type:this.form.pay_info_last.pay_type,cost_voucher:this.form.pay_info_last.cost_voucher,cost_voucher_remarkes:this.form.pay_info_last.cost_voucher_remarkes};s["h"](n).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}}else if(14==this.form.pur_info.stage_id){var l={submit_type:e,pur_info_id:this.form.pur_info.pur_info_id};s["g"](l).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}if(2==this.form.pur_info.work_status&&23!=this.form.pur_info.node_id&&28!=this.form.pur_info.node_id&&14!=this.form.pur_info.stage_id){var c,u=this.form.pur_info.stage_id;1==u?c="pur":6!=u&&14!=u||(c="pur_last");var f={type:c,id:this.form.pur_info.pur_info_id,exec_op_type:this.form.opinion,exam_remarks:this.form.remark,after_user_id:this.form.pur_info.after_user_id,image_url:"",submit_type:e};s["y"](f).then(function(e){0==e.code?(t.$message.success("提交成功！"),t.$router.back()):t.$message.error(e.msg)})}},handleSelectAuditor:function(e){this.getExecUser()},handleDelete:function(e,t){this.form.car_list.rows.splice(t,1)},handleDelivery:function(e,t){this.dialogDelivery=!0},handleComplete:function(e,t){if(this.dialogComplete=!0,this.carListActive=t,Object.assign(this.itemComplete,e),this.arrComplete=[],e.car_info.length>0)this.arrComplete=e.car_info;else for(var a=0;a<e.num;a++)this.arrComplete.push({vin:"1",order_id:"1",order_img_url:"",certificate_id:"1",certificate_img_url:""})},dialogSubmitComplete:function(){var e=this;this.dialogComplete=!1;var t={pur_record_id:this.itemComplete.pur_record_id,car_list:this.arrComplete};s["f"](t).then(function(t){0==t.code?(e.dialogComplete=!1,e.$message.success("提交成功！")):e.$message.error(t.msg)})},handleSelectDelivery:function(e,t){},handleUploadSuccess_dj_cost_voucher_img:function(e,t,a){this.form.pay_info_ding.cost_voucher=e.data.url},handleUploadSuccess_wk_cost_voucher_img:function(e,t,a){this.form.pay_info_last.cost_voucher=e.data.url},handleUploadSuccess_order_img_url:function(e,t,a){this.arrComplete[a].order_img_url=e.data.url},handleUploadSuccess_certificate_img_url:function(e,t,a){this.arrComplete[a].certificate_img_url=e.data.url},handleBeforeUpload:function(){},handleSelectCarType:function(){var e=this;this.dialogSelectCarType=!0,this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0})},emitCarClose:function(){this.dialogSelectCarType=!1},emitCarSubmit:function(e){this.dialogSelectCarType=!1;var t=this.form.car_list.rows.concat(e);this.form.car_list.rows=t}}},_=d,p=(a("8035"),a("2877")),m=Object(p["a"])(_,i,r,!1,null,"13ae5e87",null);m.options.__file="edit.vue";t["default"]=m.exports},ac6a:function(e,t,a){for(var i=a("cadf"),r=a("0d58"),o=a("2aba"),s=a("7726"),n=a("32e9"),l=a("84f2"),c=a("2b4c"),u=c("iterator"),f=c("toStringTag"),d=l.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(_),m=0;m<p.length;m++){var h,b=p[m],v=_[b],g=s[b],y=g&&g.prototype;if(y&&(y[u]||n(y,u,d),y[f]||n(y,f,b),l[b]=d,v))for(h in i)y[h]||o(y,h,i[h],!0)}},c5f6:function(e,t,a){"use strict";var i=a("7726"),r=a("69a8"),o=a("2d95"),s=a("5dbc"),n=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,f=a("86cc").f,d=a("aa77").trim,_="Number",p=i[_],m=p,h=p.prototype,b=o(a("2aeb")(h))==_,v="trim"in String.prototype,g=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():d(t,3);var a,i,r,o=t.charCodeAt(0);if(43===o||45===o){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>r)return NaN;return parseInt(l,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(b?l(function(){h.valueOf.call(a)}):o(a)!=_)?s(new m(g(t)),a,p):g(t)};for(var y,k=a("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)r(m,y=k[w])&&!r(p,y)&&f(p,y,u(m,y));p.prototype=h,h.constructor=p,a("2aba")(i,_,p)}},e93f:function(e,t,a){"use strict";a.d(t,"f",function(){return r}),a.d(t,"g",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"e",function(){return n}),a.d(t,"d",function(){return l}),a.d(t,"r",function(){return c}),a.d(t,"o",function(){return u}),a.d(t,"q",function(){return f}),a.d(t,"s",function(){return d}),a.d(t,"p",function(){return _}),a.d(t,"t",function(){return p}),a.d(t,"n",function(){return m}),a.d(t,"k",function(){return h}),a.d(t,"m",function(){return b}),a.d(t,"l",function(){return v}),a.d(t,"b",function(){return g}),a.d(t,"a",function(){return y}),a.d(t,"j",function(){return k}),a.d(t,"i",function(){return w}),a.d(t,"h",function(){return C});a("cadf"),a("551c"),a("097d");var i=a("0c6d"),r=function(e){return Object(i["a"])({url:"/business/Depart/listCP",method:"post",data:e})},o=function(e){return Object(i["a"])({url:"/business/Depart/departListAll",method:"post",data:e})},s=function(e){return Object(i["a"])({url:"/business/Depart/addChildCP",method:"post",data:e})},n=function(e){return Object(i["a"])({url:"/business/Depart/upChildCP",method:"post",data:e})},l=function(e){return Object(i["a"])({url:"/business/Depart/delCP",method:"post",data:e})},c=function(e){return Object(i["a"])({url:"/business/User/listUser",method:"post",data:e})},u=function(e){return Object(i["a"])({url:"/business/User/addUser",method:"post",data:e})},f=function(e){return Object(i["a"])({url:"/business/User/updateUser",method:"post",data:e})},d=function(e){return Object(i["a"])({url:"/business/User/infoUser",method:"post",data:e})},_=function(e){return Object(i["a"])({url:"/business/User/delUser",method:"post",data:e})},p=function(e){return Object(i["a"])({url:"/business/Position/positionList",method:"post",data:e})},m=function(e){return Object(i["a"])({url:"/business/Position/positionList",method:"post",data:e})},h=function(e){return Object(i["a"])({url:"/business/Position/addPosition",method:"post",data:e})},b=function(e){return Object(i["a"])({url:"/business/Position/updatePosition",method:"post",data:e})},v=function(e){return Object(i["a"])({url:"/business/Position/delPosition",method:"post",data:e})},g=function(e){return Object(i["a"])({url:"/business/Role/listRole",method:"post",data:e})},y=function(e){return Object(i["a"])({url:"/business/Role/updateRole",method:"post",data:e})},k=function(e){return Object(i["a"])({url:"/business/Position/positionRoleList",method:"post",data:e})},w=function(e){return Object(i["a"])({url:"/business/Position/updateRolePosition",method:"post",data:e})},C=function(e){return Object(i["a"])({url:"/business/Position/getAllAuthCode",method:"post",data:e})}},f751:function(e,t,a){var i=a("5ca1");i(i.S+i.F,"Object",{assign:a("7333")})},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-c9d93536.071fda04.js.map