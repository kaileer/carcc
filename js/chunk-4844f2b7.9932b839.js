(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4844f2b7"],{2621:function(e,r){r.f=Object.getOwnPropertySymbols},"4d18":function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"130px",rules:e.rules}},[t("el-collapse",{on:{change:function(e){}},model:{value:e.collapseActive,callback:function(r){e.collapseActive=r},expression:"collapseActive"}},[t("el-collapse-item",{attrs:{title:"　基本信息",name:"1"}},[t("el-form-item",{attrs:{label:"选择车型",prop:"car_brand"}},[t("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:e.form.car_brand,callback:function(r){e.$set(e.form,"car_brand",r)},expression:"form.car_brand"}}),t("el-button",{attrs:{disabled:e.isDisabled()},on:{click:e.handleSelectCarType}},[e._v("车型选择")])],1),t("el-form-item",{attrs:{label:"车辆品牌"}},[e._v("\n                    "+e._s(e.form.car_brand)+"\n                ")]),t("el-form-item",{attrs:{label:"车辆系列"}},[e._v("\n                    "+e._s(e.form.car_series)+"\n                ")]),t("el-form-item",{attrs:{label:"车辆类型"}},[e._v("\n                    "+e._s(e.form.car_class)+"\n                ")]),t("el-form-item",{attrs:{label:"公告型号",prop:"foreign_model"}},[t("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.foreign_model,callback:function(r){e.$set(e.form,"foreign_model",r)},expression:"form.foreign_model"}})],1),t("el-form-item",{attrs:{label:"燃油类型",prop:"fuel_type"}},[t("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择燃油类型",disabled:e.isDisabled()},model:{value:e.form.fuel_type,callback:function(r){e.$set(e.form,"fuel_type",r)},expression:"form.fuel_type"}},e._l(e.optionsFuel,function(e){return t("el-option",{key:e.id,attrs:{label:e.type_item_name,value:e.id}})}))],1),t("el-form-item",{attrs:{label:"马力",prop:"horse_power"}},[t("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.horse_power,callback:function(r){e.$set(e.form,"horse_power",r)},expression:"form.horse_power"}})],1),t("el-form-item",{attrs:{label:"驱动形式",prop:"drive_form"}},[t("el-select",{staticClass:"mr10",attrs:{placeholder:"请选择驱动形式",disabled:e.isDisabled()},model:{value:e.form.drive_form,callback:function(r){e.$set(e.form,"drive_form",r)},expression:"form.drive_form"}},e._l(e.optionsDrive,function(e){return t("el-option",{key:e.id,attrs:{label:e.type_item_name,value:e.id}})}))],1),t("el-form-item",{attrs:{label:"颜色",prop:"color"}},[t("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.color,callback:function(r){e.$set(e.form,"color",r)},expression:"form.color"}})],1),t("el-form-item",{attrs:{label:"采购单价",prop:"purchase_price"}},[t("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.purchase_price,callback:function(r){e.$set(e.form,"purchase_price",r)},expression:"form.purchase_price"}})],1),t("el-form-item",{attrs:{label:"销售单价",prop:"sale_price"}},[t("el-input",{attrs:{disabled:e.isDisabled()},model:{value:e.form.sale_price,callback:function(r){e.$set(e.form,"sale_price",r)},expression:"form.sale_price"}})],1)],1)],1),t("el-form-item",{staticClass:"form-submit"},["view"!=e.pageType?t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]):e._e(),t("el-button",{on:{click:function(r){e.$router.back()}}},[e._v("返回")])],1)],1),t("el-dialog",{attrs:{title:"选择车型",visible:e.dialogSelectCarType,width:"50%"},on:{"update:visible":function(r){e.dialogSelectCarType=r}}},[e.hackReset?t("selectCar",{attrs:{selectCarOptions:e.selectCarOptions},on:{emitCarSubmit:e.emitCarSubmit,emitCarClose:e.emitCarClose}}):e._e()],1)],1)},a=[],s=(t("f751"),t("cadf"),t("551c"),t("097d"),t("63ee")),o=(t("da71"),t("f46c")),l={data:function(){return{collapseActive:["1"],optionsFuel:[],optionsDrive:[],hackReset:!1,dialogSelectCarType:!1,pageType:"",selectCarOptions:{tableConfig:{bus_brand:!0,bus_type:!0,bus_series:!0},formConfig:{},pageType:"carTypeSelect"},form:{select_car_type:"",car_brand:"",car_class:"",car_series:"",color:"",drive_form:"",foreign_model:"",fuel_type:"",horse_power:"",purchase_price:"",sale_price:""},rules:{car_brand:[{required:!0,message:"请选择车型",trigger:"change"}],foreign_model:[{required:!0,message:"请输入公告型号",trigger:"blur"}],fuel_type:[{required:!0,message:"请选择燃油类型",trigger:"change"}],horse_power:[{required:!0,message:"请输入马力",trigger:"blur"}],drive_form:[{required:!0,message:"请选择驱动形式",trigger:"change"}],color:[{required:!0,message:"请输入颜色",trigger:"blur"}],purchase_price:[{required:!0,message:"请输入采购单价",trigger:"blur"}],sale_price:[{required:!0,message:"请输入销售单价",trigger:"blur"}]}}},components:{selectCar:o["a"]},mounted:function(){this.checkPath(),this.getFuel(),this.getDrive()},methods:{isDisabled:function(){var e="view"==this.pageType;return e},checkPath:function(){var e=this.$route.path;this.$route.query;e.indexOf("add")>-1?this.pageType="add":e.indexOf("edit")>-1?(this.getFormData(),this.pageType="edit"):e.indexOf("view")>-1&&(this.pageType="view",this.getFormData())},getFormData:function(){var e=this;this.form.id=this.$route.query.id,this.form.operation_uniqid=this.$route.query.operation_uniqid,s["h"]({id:this.$route.query.id,operation_uniqid:this.$route.query.operation_uniqid}).then(function(r){Object.assign(e.form,r.data)})},getFuel:function(){var e=this;s["c"]({}).then(function(r){e.optionsFuel=r.data})},getDrive:function(){var e=this;s["b"]({}).then(function(r){e.optionsDrive=r.data})},handleSelectCarType:function(){var e=this;this.dialogSelectCarType=!0,this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0})},handleSubmit:function(){var e=this;this.$refs.form.validate(function(r){if(!r)return!1;"add"==e.pageType?s["d"](e.form).then(function(r){e.$message.success("提交成功！"),e.$router.back()}):s["f"](e.form).then(function(r){e.$message.success("提交成功！"),e.$router.back()})})},emitCarClose:function(){this.dialogSelectCarType=!1},emitCarSubmit:function(e){this.form.car_brand=e.bus_brand,this.form.car_series=e.bus_series,this.form.car_class=e.bus_type,this.dialogSelectCarType=!1}}},n=l,c=(t("9b52"),t("2877")),u=Object(c["a"])(n,i,a,!1,null,"554757bf",null);u.options.__file="edit.vue";r["default"]=u.exports},7333:function(e,r,t){"use strict";var i=t("0d58"),a=t("2621"),s=t("52a7"),o=t("4bf8"),l=t("626a"),n=Object.assign;e.exports=!n||t("79e5")(function(){var e={},r={},t=Symbol(),i="abcdefghijklmnopqrst";return e[t]=7,i.split("").forEach(function(e){r[e]=e}),7!=n({},e)[t]||Object.keys(n({},r)).join("")!=i})?function(e,r){var t=o(e),n=arguments.length,c=1,u=a.f,f=s.f;while(n>c){var p,m=l(arguments[c++]),d=u?i(m).concat(u(m)):i(m),b=d.length,_=0;while(b>_)f.call(m,p=d[_++])&&(t[p]=m[p])}return t}:n},"9b52":function(e,r,t){"use strict";var i=t("ad29"),a=t.n(i);a.a},ad29:function(e,r,t){},f751:function(e,r,t){var i=t("5ca1");i(i.S+i.F,"Object",{assign:t("7333")})}}]);
//# sourceMappingURL=chunk-4844f2b7.9932b839.js.map